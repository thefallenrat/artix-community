# Maintainer: artoo <artoo@artixlinux.org>

_pkgbase=desktop-presets

pkgname=artix-lxqt-presets
pkgver=0.8
pkgrel=2
pkgdesc='Artix lxqt presets'
arch=('any')
url="https://gitea.artixlinux.org/artix/desktop-presets"
license=('GPL')
provides=('desktop-presets')
depends=('breeze-icons'
        'breeze-gtk'
        'artix-backgrounds'
        'artix-icons'
        'xcursor-breeze')
makedepends=('git')
source=("${_pkgbase}-${pkgver}.tar.gz::$url/archive/${pkgver}.tar.gz"
        "panel-logo-fix.patch::https://gitea.artixlinux.org/artix/desktop-presets/commit/30f106b78b61a1ee0183984a912df5aed7600068.patch")
sha256sums=('7948d856c0789820b024aad9ee0941dd7a0f30b030aa76cf54ca59dcef2bd460'
            'eec6f6043c438b4f845de2e263bbbec82fcf52f97926206f7fb46c0792b60f08')

prepare(){
    cd ${_pkgbase}
    patch -Np1 -i ../panel-logo-fix.patch
}

_inst_dir(){
    cd ${_pkgbase} #-${pkgver}
    local profile="$1"

    install -d ${pkgdir}/etc
    cp -r $profile/skel ${pkgdir}/etc

    if [[ -d $profile/schemas ]];then
        install -d ${pkgdir}/usr/share/glib-2.0/schemas
        cp -r $profile/schemas ${pkgdir}/usr/share/glib-2.0/schemas
    fi

    if [[ -d $profile/scripts ]];then
        install -d ${pkgdir}/usr/bin
        cp -r $profile/scripts ${pkgdir}/usr/bin
    fi
}

package_artix-lxqt-presets() {
    _inst_dir 'lxqt'
}
